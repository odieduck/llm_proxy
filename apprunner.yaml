version: 1.0
runtime: nodejs18
build:
  commands:
    build:
      - npm install
run:
  runtime-version: 18.20.8
  command: node src/index-dynamodb.js
  network:
    port: 3000
  env:
    - name: NODE_ENV
      value: "production"
    - name: AWS_REGION
      value: "us-east-1"
    - name: JWT_SECRET
      value: bd4944e1695fcb9021725731d31bb51b518e210f6f9b46ecf370808f5f32fd91
    - name: SESSION_SECRET
      value: 3123fd4b6615eeb5873121fb3ea6f92245b42a9ae98f5f3c8c6138626fec645d
    - name: DYNAMODB_USERS_TABLE
      value: llm-proxy-users
    - name: DYNAMODB_SESSIONS_TABLE
      value: llm-proxy-sessions
    - name: DYNAMODB_USAGE_TABLE
      value: llm-proxy-usage
    - name: CUSTOM_DOMAIN
      value: api.finbrightai.com
    - name: SESSION_TIMEOUT_HOURS
      value: "5"
    # OpenAI API Key - Set from environment or replace with actual key
    - name: OPENAI_API_KEY
      value: "your-openai-api-key-here"
    # Email verification settings
    - name: EMAIL_SERVICE_ENABLED
      value: "false"
    - name: FROM_EMAIL
      value: "noreply@finbrightai.com"
    - name: BASE_URL
      value: "https://api.finbrightai.com"
    - name: REQUIRE_EMAIL_VERIFICATION
      value: "true"
